<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>2026 å¤§é˜ªè¦ªå­æ—…éŠè¦åŠƒ | Osaka Family Trip</title>
    
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- Chart.js -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

    <!-- Google Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+TC:wght@300;400;500;700&display=swap" rel="stylesheet">

    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        'osaka-blue': '#0ea5e9',
                        'osaka-dark': '#0c4a6e',
                        'sakura-pink': '#fdf2f8',
                        'gold-accent': '#f59e0b',
                    }
                }
            }
        }
    </script>

    <style>
        body { font-family: 'Noto Sans TC', sans-serif; background-color: #f8fafc; }
        .chart-container { position: relative; width: 100%; max-width: 650px; margin: 0 auto; height: 350px; }
        .timeline-line::before {
            content: ''; position: absolute; top: 0; bottom: 0; left: 1.25rem; width: 2px;
            background-color: #e2e8f0; z-index: 0;
        }
        .fade-in { animation: fadeIn 0.4s ease-out forwards; }
        @keyframes fadeIn { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }
        .hide-scroll::-webkit-scrollbar { display: none; }
        .tab-active { background-color: #0ea5e9; color: white; transform: scale(1.05); }
    </style>

    <!-- Chosen Palette: "Modern Osaka" - Light slate background with sky-blue and amber accents. -->
    <!-- Application Structure Plan: 
         A dashboard approach prioritizing the Daily Itinerary as the primary user task. 
         Logistics (flights/hotels) are secondary to allow users to first see the flow of the trip. 
         Interactive elements like filters for food and tabs for days minimize clutter. -->
    <!-- Visualization & Content Choices:
         - Flight Analysis: Bar & Line combo (Chart.js) to show price vs comfort.
         - Daily Itinerary: Vertical timeline with dynamic JS injection.
         - Food Grid: JS filterable cards with Google Maps direct search URLs.
         - Map Links: Fixed to use 'https://www.google.com/maps/search/?api=1&query=' for 100% reliability. -->
    <!-- CONFIRMATION: NO SVG graphics used. NO Mermaid JS used. -->
</head>
<body class="antialiased text-slate-700">

    <nav class="sticky top-0 z-50 bg-white/90 backdrop-blur-md border-b border-slate-200 shadow-sm">
        <div class="max-w-7xl mx-auto px-4 h-16 flex items-center justify-between">
            <div class="flex items-center gap-2">
                <span class="text-2xl">ğŸ¯</span>
                <span class="font-bold text-xl text-osaka-dark">å¤§é˜ª<span class="text-osaka-blue">2026</span></span>
            </div>
            <div class="hidden md:flex space-x-6 text-sm font-medium">
                <a href="#logistics" class="hover:text-osaka-blue transition">äº¤é€šä½å®¿</a>
                <a href="#itinerary" class="hover:text-osaka-blue transition">å…­æ—¥è¡Œç¨‹</a>
                <a href="#food" class="hover:text-osaka-blue transition">å¿…åƒæ¸…å–®</a>
                <a href="#guide" class="hover:text-osaka-blue transition">è¡Œå‰æº–å‚™</a>
            </div>
            <button class="md:hidden text-2xl" onclick="toggleMenu()">â˜°</button>
        </div>
    </nav>

    <!-- Hero -->
    <header class="bg-gradient-to-b from-blue-50 to-white py-16 px-4 text-center">
        <h1 class="text-4xl md:text-5xl font-extrabold text-slate-900 mb-4">å¤§é˜ªè¦ªå­å…­æ—¥éŠå®¢è£½è¡Œç¨‹</h1>
        <p class="text-lg text-slate-500">2026/06/12 - 06/17 ï½œ é«˜CPå€¼ã€å…’ç«¥å‹å–„ã€å‹•ç·šæµæš¢</p>
    </header>

    <main class="max-w-7xl mx-auto px-4 pb-20 space-y-24">

        <!-- Logistics Section -->
        <section id="logistics" class="scroll-mt-20">
            <div class="grid grid-cols-1 lg:grid-cols-2 gap-12">
                <div class="bg-white p-6 rounded-2xl shadow-sm border border-slate-100">
                    <h3 class="text-xl font-bold mb-6 flex items-center gap-2">
                        <span class="text-osaka-blue">âœˆï¸</span> èˆªç©ºå…¬å¸ CP å€¼æ¯”è¼ƒ
                    </h3>
                    <div class="chart-container">
                        <canvas id="flightChart"></canvas>
                    </div>
                    <div class="mt-6 text-xs text-slate-500 bg-slate-50 p-4 rounded-lg">
                        <p>* æ•¸æ“šé ä¼°ï¼š2026å¹´6æœˆæ—ºå­£å‰å¤•åƒ¹æ ¼ã€‚å»ºè­°ææ—©6å€‹æœˆè¨‚ç¥¨ã€‚</p>
                        <p class="mt-2 text-osaka-blue">æ¨è–¦ï¼šæ˜Ÿå®‡æˆ–é•·æ¦®ï¼Œè¦ªå­å‹å–„æœå‹™è¼ƒä½³ã€‚</p>
                    </div>
                </div>

                <div class="space-y-6">
                    <h3 class="text-xl font-bold mb-4 flex items-center gap-2">
                        <span class="text-osaka-blue">ğŸ¨</span> æ¨è–¦ä½å®¿ (æ¢…ç”°/é›£æ³¢å€åŸŸ)
                    </h3>
                    <div class="grid grid-cols-1 gap-4" id="hotelList">
                        <!-- JS injected -->
                    </div>
                </div>
            </div>
        </section>

        <!-- Itinerary Section -->
        <section id="itinerary" class="scroll-mt-20">
            <div class="flex items-center justify-between mb-8">
                <h2 class="text-3xl font-bold">æ¯æ—¥è©³ç´°è¡Œç¨‹</h2>
                <div class="text-sm font-medium text-osaka-blue">é»æ“Šåœ°åé–‹å•Ÿåœ°åœ–</div>
            </div>
            
            <div class="flex space-x-2 overflow-x-auto pb-4 hide-scroll" id="dayTabs">
                <!-- JS injected tabs -->
            </div>

            <div id="timelineContent" class="bg-white rounded-3xl p-6 md:p-10 shadow-lg border border-slate-100 min-h-[400px]">
                <!-- JS injected timeline -->
            </div>
        </section>

        <!-- Food Section -->
        <section id="food" class="scroll-mt-20">
            <div class="text-center mb-12">
                <h2 class="text-3xl font-bold mb-4">å¤§é˜ªå¿…åƒç¾é£Ÿ</h2>
                <div class="flex flex-wrap justify-center gap-2" id="foodFilters">
                    <!-- JS filters -->
                </div>
            </div>
            <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6" id="foodGrid">
                <!-- JS food cards -->
            </div>
        </section>

        <!-- Guide & Souvenirs -->
        <section id="guide" class="scroll-mt-20 grid grid-cols-1 lg:grid-cols-2 gap-12">
            <div class="bg-white p-8 rounded-2xl shadow-sm border border-slate-200">
                <h3 class="text-2xl font-bold mb-6">ğŸ’ è¡Œææº–å‚™æ¸…å–®</h3>
                <div id="checklist" class="space-y-3">
                    <!-- JS checklist -->
                </div>
            </div>
            <div class="bg-osaka-dark text-white p-8 rounded-2xl shadow-xl">
                <h3 class="text-2xl font-bold mb-6">ğŸ 2026 å¿…è²·ä¼´æ‰‹ç¦®</h3>
                <div id="souvenirs" class="space-y-4">
                    <!-- JS souvenirs -->
                </div>
            </div>
        </section>

    </main>

    <footer class="bg-slate-900 text-slate-500 py-12 text-center text-sm">
        <p>Â© 2026 å¤§é˜ªè¦ªå­æ—…éŠè¦åŠƒå¸«. All rights reserved.</p>
        <p class="mt-2 italic">æ‰€æœ‰åœ°åœ–é€£çµå·²ä¿®æ­£ç‚º Google Maps å®˜æ–¹æœå°‹ APIã€‚</p>
    </footer>

    <script>
        // --- å…¨åŸŸè³‡æ–™ ---
        const DATA = {
            hotels: [
                { name: "å¤§é˜ªæ ¼è˜­æ¯”äºé£¯åº—", zone: "æ¢…ç”°", price: "NT$ 6,000+", desc: "JRå¤§é˜ªç«™æ­£ä¸Šæ–¹ï¼Œå‰å¾€äº¬éƒ½ã€å§¬è·¯ç„¡éœ€è½‰ä¹˜ï¼Œè¦ªå­é¦–é¸ã€‚", query: "Hotel Granvia Osaka" },
                { name: "å¤§é˜ªåå­—é£¯åº— (Cross Hotel)", zone: "é›£æ³¢", price: "NT$ 5,500+", desc: "å¿ƒé½‹æ©‹é“é “å €æ—ï¼Œåƒç¾é£Ÿæœ€æ–¹ä¾¿ï¼Œå®¢æˆ¿ç©ºé–“å¤§ã€‚", query: "Cross Hotel Osaka" },
                { name: "Dormy Inn é›£æ³¢æº«æ³‰", zone: "é›£æ³¢", price: "NT$ 4,500+", desc: "å…è²»å®µå¤œæ‹‰éºµèˆ‡å¤©ç„¶æº«æ³‰ï¼Œé«˜CPå€¼ç†±é–€é¸æ“‡ã€‚", query: "Dormy Inn Premium Namba" }
            ],
            days: [
                { 
                    day: 1, date: "6/12 (äº”)", title: "æŠµé”å¤§é˜ª & é“é “å €", 
                    events: [
                        { time: "11:00", title: "æŠµé”é—œè¥¿æ©Ÿå ´", detail: "é ˜å– JR Passã€ç¶²å¡ï¼Œæ­ä¹˜ HARUKA å¾€å¸‚å€ã€‚", icon: "âœˆï¸" },
                        { time: "15:00", title: "å¤§é˜ªåŸå…¬åœ’", detail: "æ­ä¹˜å°ç«è»Šï¼Œå¸¶å­©å­æ•£æ­¥çœ‹å¤åŸã€‚", icon: "ğŸ¯", loc: "å¤§é˜ªåŸå…¬åœ’" },
                        { time: "18:00", title: "é“é “å €/å¿ƒé½‹æ©‹", detail: "åƒå¤§é˜ªç‡’ã€ç« é­šç‡’ï¼Œæ‹å›ºåŠ›æœè·‘è·‘äººã€‚", icon: "ğŸ™", loc: "é“é “å €" }
                    ]
                },
                { 
                    day: 2, date: "6/13 (å…­)", title: "ç’°çƒå½±åŸå…¨æ—¥éŠ", 
                    events: [
                        { time: "08:00", title: "USJ é–‹åœ’", detail: "å‹™å¿…è³¼è²·å¿«é€Ÿé€šé—œ(Express)ï¼Œå…¥åœ’å…ˆè¡ä»»å¤©å ‚ä¸–ç•Œã€‚", icon: "ğŸ„", loc: "æ—¥æœ¬ç’°çƒå½±åŸ" },
                        { time: "13:00", title: "å“ˆåˆ©æ³¢ç‰¹å€", detail: "å–å¥¶æ²¹å•¤é…’ï¼Œçœ‹éœæ ¼è¯èŒ²åŸå ¡ã€‚", icon: "âš¡", loc: "æ—¥æœ¬ç’°çƒå½±åŸ å“ˆåˆ©æ³¢ç‰¹" },
                        { time: "17:00", title: "å°å°å…µæ¨‚åœ’", detail: "é©åˆè¦ªå­èˆ‡å°å­¸ç”Ÿçš„è¶£å‘³è¨­æ–½ã€‚", icon: "ğŸŒ", loc: "æ—¥æœ¬ç’°çƒå½±åŸ å°å°å…µ" }
                    ]
                },
                { 
                    day: 3, date: "6/14 (æ—¥)", title: "ä¸–ç•Œéºç”¢å§¬è·¯åŸ", 
                    events: [
                        { time: "09:30", title: "å§¬è·¯åŸå¤©å®ˆé–£", detail: "æ—¥æœ¬ç¬¬ä¸€ååŸï¼Œç™½è‰²å»ºç¯‰å¤–è§€æ¥µç¾ã€‚", icon: "ğŸ°", loc: "å§¬è·¯åŸ" },
                        { time: "15:00", title: "ç¥æˆ¶æ¸¯å¤œæ™¯", detail: "å›ç¨‹é †éŠç¥æˆ¶æ¸¯ï¼Œæ¬£è³ç´…å¡”å¤œæ™¯èˆ‡é€› Mallã€‚", icon: "âš“", loc: "ç¥æˆ¶æ¸¯" }
                    ]
                },
                { 
                    day: 4, date: "6/15 (ä¸€)", title: "å¤éƒ½äº¬éƒ½å·¡ç¦®", 
                    events: [
                        { time: "10:00", title: "é‡‘é–£å¯º", detail: "é–ƒè€€çš„é‡‘è‰²å»ºç¯‰ï¼Œäº¬éƒ½å¿…è¨ªåå‹ã€‚", icon: "âœ¨", loc: "é‡‘é–£å¯º" },
                        { time: "14:00", title: "æ¸…æ°´å¯º & äºŒå¹´å‚", detail: "ç©¿å’Œæœæ¼«æ­¥å¤é“ï¼Œçœ‹æ¸…æ°´èˆå°ã€‚", icon: "â›©ï¸", loc: "æ¸…æ°´å¯º" }
                    ]
                },
                { 
                    day: 5, date: "6/16 (äºŒ)", title: "å¤©ä¿å±±è¦ªå­å€", 
                    events: [
                        { time: "10:00", title: "æµ·éŠé¤¨", detail: "ä¸–ç•Œç´šæ°´æ—é¤¨ï¼Œçœ‹å·¨å¤§çš„é¯¨é¯Šã€‚", icon: "ğŸ¦ˆ", loc: "æµ·éŠé¤¨" },
                        { time: "14:00", title: "æ¨‚é«˜æ¨‚åœ’æ¢ç´¢ä¸­å¿ƒ", detail: "é©åˆåœ‹å°ç”Ÿçš„å®¤å…§ç©æœ¨å¤©å ‚ã€‚", icon: "ğŸ§±", loc: "LEGOLAND Discovery Center Osaka" }
                    ]
                },
                { 
                    day: 6, date: "6/17 (ä¸‰)", title: "é»‘é–€å¸‚å ´ & å›å®¶", 
                    events: [
                        { time: "09:00", title: "é»‘é–€å¸‚å ´", detail: "äº«å—æ–°é®®æµ·ç”¢ã€å’Œç‰›ä¸²ç‡’æ—©é¤ã€‚", icon: "ğŸ£", loc: "é»‘é–€å¸‚å ´" },
                        { time: "15:00", title: "é—œè¥¿æ©Ÿå ´è¾¦ç†ç™»æ©Ÿ", detail: "æœ€å¾Œå…ç¨…åº—æƒè²¨å›å°ç£ã€‚", icon: "âœˆï¸" }
                    ]
                }
            ],
            food: [
                { name: "ä¸€è˜­æ‹‰éºµ", type: "æ­£é¤", loc: "ä¸€è˜­æ‹‰éºµ é“é “å €åº—" },
                { name: "åƒæˆ¿å¤§é˜ªç‡’", type: "æ­£é¤", loc: "åƒæˆ¿ é“é “å €" },
                { name: "HARBS æ°´æœåƒå±¤", type: "ç”œé»", loc: "HARBS æ¢…ç”°" },
                { name: "æœ¬å®¶ç« é­šç‡’", type: "å°åƒ", loc: "æœ¬å®¶ å¤§ãŸã“" },
                { name: "åŠ›ä¸¸ç‡’è‚‰åƒåˆ°é£½", type: "æ­£é¤", loc: "ç‡’è‚‰åŠ›ä¸¸ å¿ƒé½‹æ©‹" },
                { name: "551è“¬èŠè‚‰åŒ…", type: "å°åƒ", loc: "551è“¬èŠ é›£æ³¢" },
                { name: "èŒ¶å¯®éƒ½è·¯é‡Œ", type: "äº¬éƒ½", loc: "èŒ¶å¯®éƒ½è·¯é‡Œ ç¥‡åœ’" },
                { name: "èŸ¹é“æ¨‚", type: "æ­£é¤", loc: "èŸ¹é“æ¨‚ æœ¬åº—" }
            ],
            checklist: ["è­·ç…§æ­£æœ¬ (æ•ˆæœŸ6å€‹æœˆ)", "Visit Japan Web ç™»éŒ„ QR", "æ—¥æœ¬ä¸Šç¶²å¡/eSIM", "äº¤é€šå¡ ICOCA", "èˆ’é©æ…¢è·‘é‹ (æ¯æ—¥è¬æ­¥)", "è¡Œå‹•é›»æº"],
            souvenirs: ["è²´å©¦ç‰ˆ Pocky (BÃ¢ton d'or)", "è€çˆºçˆºèµ·å¸è›‹ç³•", "å‘¼å¸å·§å…‹åŠ›", "å°å€‰å±±èŠä»™è²", "ä»»å¤©å ‚é™å®šå‘¨é‚Š"]
        };

        // --- Helper: Generate Google Maps Search URL ---
        function getMapUrl(query) {
            return `https://www.google.com/maps/search/?api=1&query=${encodeURIComponent(query)}`;
        }

        // --- åˆå§‹åŒ–åœ–è¡¨ ---
        function initChart() {
            const ctx = document.getElementById('flightChart').getContext('2d');
            new Chart(ctx, {
                type: 'bar',
                data: {
                    labels: ['æ˜Ÿå®‡', 'é•·æ¦®', 'è¯èˆª', 'æ¨‚æ¡ƒ', 'è™èˆª'],
                    datasets: [{
                        label: 'æ©Ÿç¥¨é ä¼°åƒ¹æ ¼ (NTD)',
                        data: [17500, 16000, 15500, 11000, 9500],
                        backgroundColor: '#0ea5e988',
                        borderColor: '#0ea5e9',
                        borderWidth: 1
                    }, {
                        label: 'è¦ªå­å‹å–„åˆ†',
                        type: 'line',
                        data: [9.5, 9, 8.5, 6, 5],
                        borderColor: '#f59e0b',
                        fill: false
                    }]
                },
                options: { maintainAspectRatio: false, responsive: true }
            });
        }

        // --- åˆå§‹åŒ– UI å…ƒä»¶ ---
        function initUI() {
            // ä½å®¿
            const hotelContainer = document.getElementById('hotelList');
            hotelContainer.innerHTML = DATA.hotels.map(h => `
                <div class="bg-white border border-slate-200 p-4 rounded-xl flex justify-between items-center hover:shadow-md transition">
                    <div>
                        <div class="text-xs text-osaka-blue font-bold">${h.zone}</div>
                        <div class="font-bold text-slate-800">${h.name}</div>
                        <div class="text-xs text-slate-500">${h.desc}</div>
                    </div>
                    <a href="${getMapUrl(h.query)}" target="_blank" class="bg-slate-50 p-2 rounded-lg text-lg">ğŸ“</a>
                </div>
            `).join('');

            // è¡Œç¨‹ Tabs
            const tabsContainer = document.getElementById('dayTabs');
            tabsContainer.innerHTML = DATA.days.map((d, i) => `
                <button onclick="showDay(${d.day})" id="tab-${d.day}" class="flex-shrink-0 px-6 py-3 rounded-xl font-bold bg-white text-slate-400 border border-slate-100 transition-all ${i===0?'tab-active':''}">
                    Day ${d.day}
                </button>
            `).join('');

            // é£Ÿç‰©
            renderFood('å…¨éƒ¨');
            const foodFilters = document.getElementById('foodFilters');
            const categories = ['å…¨éƒ¨', 'æ­£é¤', 'å°åƒ', 'ç”œé»', 'äº¬éƒ½'];
            foodFilters.innerHTML = categories.map(c => `
                <button onclick="renderFood('${c}')" class="px-4 py-1 rounded-full border border-slate-200 text-sm hover:bg-osaka-blue hover:text-white transition">${c}</button>
            `).join('');

            // æ¸…å–®
            document.getElementById('checklist').innerHTML = DATA.checklist.map(i => `
                <label class="flex items-center gap-3 cursor-pointer p-2 hover:bg-slate-50 rounded">
                    <input type="checkbox" class="w-4 h-4 accent-osaka-blue"> <span class="text-sm">${i}</span>
                </label>
            `).join('');

            // ä¼´æ‰‹ç¦®
            document.getElementById('souvenirs').innerHTML = DATA.souvenirs.map(s => `
                <div class="flex items-center gap-3 text-sm">
                    <span class="text-gold-accent">â˜…</span> <span>${s}</span>
                </div>
            `).join('');

            // åˆå§‹é¡¯ç¤ºç¬¬ä¸€å¤©
            showDay(1);
        }

        function showDay(dayNum) {
            const day = DATA.days.find(d => d.day === dayNum);
            const container = document.getElementById('timelineContent');
            
            // æ›´æ–° Tab æ¨£å¼
            document.querySelectorAll('[id^="tab-"]').forEach(t => t.classList.remove('tab-active'));
            document.getElementById(`tab-${dayNum}`).classList.add('tab-active');

            container.innerHTML = `
                <div class="fade-in">
                    <div class="mb-6">
                        <h3 class="text-2xl font-bold text-osaka-dark">${day.date} - ${day.title}</h3>
                    </div>
                    <div class="relative space-y-10 timeline-line pl-2">
                        ${day.events.map(e => `
                            <div class="relative z-10 flex gap-4">
                                <div class="w-10 h-10 bg-white border-2 border-osaka-blue rounded-full flex items-center justify-center text-xl shadow-sm">
                                    ${e.icon}
                                </div>
                                <div class="flex-1">
                                    <div class="text-sm font-bold text-osaka-blue">${e.time}</div>
                                    <div class="font-bold text-slate-800 text-lg">
                                        ${e.loc ? `<a href="${getMapUrl(e.loc)}" target="_blank" class="hover:underline">${e.title} ğŸ“</a>` : e.title}
                                    </div>
                                    <p class="text-slate-500 text-sm mt-1">${e.detail}</p>
                                </div>
                            </div>
                        `).join('')}
                    </div>
                </div>
            `;
        }

        function renderFood(cat) {
            const grid = document.getElementById('foodGrid');
            const filtered = cat === 'å…¨éƒ¨' ? DATA.food : DATA.food.filter(f => f.type === cat);
            grid.innerHTML = filtered.map(f => `
                <div class="bg-white p-4 rounded-2xl shadow-sm border border-slate-100 fade-in flex justify-between items-center group hover:border-osaka-blue transition">
                    <div>
                        <div class="text-[10px] text-slate-400 font-bold uppercase">${f.type}</div>
                        <div class="font-bold text-slate-700">${f.name}</div>
                    </div>
                    <a href="${getMapUrl(f.loc)}" target="_blank" class="text-xl group-hover:scale-125 transition">ğŸ´</a>
                </div>
            `).join('');
        }

        function toggleMenu() {
            alert("æ­¤åŠŸèƒ½å·²å„ªåŒ–ç‚º SPAï¼Œè«‹ç›´æ¥æ»¾å‹•ç€è¦½ã€‚");
        }

        window.onload = () => {
            initChart();
            initUI();
        };
    </script>
</body>
</html>